<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <title>Voil√† ce que je peux faire !</title>
  <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
  <script src="https://wizgrav.github.io/aframe-effects/dist/aframe-effects.js"></script>
  <script type="text/javascript" src="http://lib.ivank.net/ivank.js"></script>
  <script type="text/javascript" src="http://k3d.ivank.net/K3D.js"></script>
  <script type="module">

  // Find the latest version by visiting https://unpkg.com/three. The URL will
  // redirect to the newest stable release.

    // Find the latest version by visiting https://unpkg.com/three. The URL will
    // redirect to the newest stable release.
    import * as THREE from 'https://unpkg.com/three/build/three.module.js';
    import { OBJLoader } from 'https://unpkg.com/three/examples/jsm/loaders/OBJLoader.js';

    const scene = new THREE.Scene();

    const loader = new OBJLoader();

// load a resource
  var test = loader.load(
	// resource URL
	'assets/models/cube.obj',
	// called when resource is loaded
	function ( object ) {

		scene.add( object );
    console.log(object);

	},
	// called when loading is in progresses
	function ( xhr ) {

		console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );

	},
	// called when loading has errors
	function ( error ) {

		console.log( 'An error happened' );

	}
);
var parse = loader.parse("caca")
console.log(parse.Mesh);

</script>

  <!-- <script type="text/javascript">

    let positions = ["1.000000 1.000000 -1.000000",
           "1.000000 -1.000000 -1.000000",
           "1.000000 1.000000 1.000000",
           "1.000000 -1.000000 1.000000",
           "-1.000000 1.000000 -1.000000",
           "-1.000000 -1.000000 -1.000000",
           "-1.000000 1.000000 1.000000",
           "-1.000000 -1.000000 1.000000",];








      AFRAME.registerComponent('addvertices', {
               init: function (t) {
                   var entity = this.el;
                   // const array1 = ['-0.5 1 -3', '0 1 -3', '0.5 1 -3'];

                   for (const element of positions) {
                       addVertex(element);
                   }
               }
           });

           function addVertex(pos) {
               let scene = document.getElementById("scene");
               let pool = scene.components["pool__vertices"];
               let instance = pool.requestEntity();
               // let pos = x + " " + y + " " + z;
               // let pos = "0 1 -3";
               instance.setAttribute('position', pos);
               //instance.play();
           }
       </script>
   </head>

   <body style='margin : 0px; overflow: hidden;' onload="Start();">
       <a-scene id="scene" background="color: #5280A7" pool__vertices="mixin: vertex; size: 100; dynamic: true"
           addvertices>

           <a-camera position="0 1.7 3" look-controls wasd-controls></a-camera>

           <a-assets>
               <a-mixin id="vertex" geometry="primitive: sphere; radius: 0.1;" material="color: yellow"></a-mixin>
           </a-assets>

           <a-plane position="0 -2 0" rotation="-90 0 0" width="15" height="15" color="#CCCCCC" shadow="receive: true"
               shadow-material="opacite: 0.5">
           </a-plane>
           <a-plane position="0 -2 0" rotation="-90 0 0" width="15" height="15" color="#CCCCCC">
           </a-plane>

       </a-scene>

     </body> -->
